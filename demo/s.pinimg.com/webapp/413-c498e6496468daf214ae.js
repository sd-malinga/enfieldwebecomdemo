(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[413],{LT60:function(e,r,n){"use strict";n.d(r,"b",(function(){return s})),n.d(r,"a",(function(){return i}));var t=n("d2Eh"),o=n("nKUr"),a=function(){},s=function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function i(e){var r=e.allowClickAndDrag,n=e.allowEsc,i=e.allowMediaPlay,u=e.allowScroll,c=e.children,d=function(e){return function(e,r){r&&e.keyCode===t.a.ESCAPE||s(e)}(e,n)};return Object(o.jsx)("div",{onAbort:s,onAnimationEnd:s,onAnimationIteration:s,onAnimationStart:s,onBlur:a,onCanPlay:i?a:s,onCanPlayThrough:s,onChange:s,onClick:r?a:s,onCompositionEnd:s,onCompositionStart:s,onCompositionUpdate:s,onContextMenu:s,onCopy:s,onCut:s,onDoubleClick:s,onDurationChange:s,onEmptied:s,onEncrypted:s,onEnded:s,onError:s,onFocus:a,onInput:s,onInvalid:s,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:s,onLoadedData:s,onLoadedMetadata:s,onLoadStart:s,onMouseDown:s,onMouseEnter:s,onMouseLeave:s,onMouseMove:r?a:s,onMouseOut:s,onMouseOver:s,onMouseUp:r?a:s,onPaste:s,onPause:s,onPlay:s,onPlaying:s,onProgress:s,onRateChange:s,onScroll:u?a:s,onSeeked:s,onSeeking:s,onSelect:s,onStalled:s,onSubmit:s,onSuspend:s,onTimeUpdate:s,onTouchCancel:s,onTouchEnd:r?a:s,onTouchMove:r?a:s,onTouchStart:r?a:s,onTransitionEnd:s,onVolumeChange:s,onWaiting:s,onWheel:s,children:c})}},TgLd:function(e,r,n){"use strict";n.d(r,"a",(function(){return u}));var t=n("q1tI"),o=n("D2p8"),a=n("LT60"),s=n("n6mq"),i=n("nKUr"),u=new s.s(1e3),c=Object(t.forwardRef)((function(e,r){var n=e._dangerouslyDisableScrollBoundaryContainer,c=e.accessibilityModalLabel,d=e.align,l=e.allowClickAndDrag,f=e.allowMediaPlay,w=e.allowScroll,p=e.children,h=e.closeOnOutsideClick,m=e.footer,b=e.heading,g=e.onDismiss,v=e.role,y=e.size,P=e.subHeading;Object(t.useEffect)((function(){return o.c.pause(),function(){o.c.resume()}}),[]);return Object(i.jsx)(s.A,{zIndex:u,children:Object(i.jsx)(a.a,{allowClickAndDrag:l,allowEsc:!0,allowMediaPlay:f,allowScroll:w,children:Object(i.jsx)(s.H,{_dangerouslyDisableScrollBoundaryContainer:n,accessibilityModalLabel:c,align:d,closeOnOutsideClick:h,heading:b,footer:m,onDismiss:function(){o.c.resume(),g()},ref:r,role:v,size:y,subHeading:P,children:p})})})}));c.displayName="Modal",r.b=c},c50B:function(e,r,n){"use strict";function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return o(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}n.d(r,"o",(function(){return s})),n.d(r,"d",(function(){return i})),n.d(r,"e",(function(){return u})),n.d(r,"m",(function(){return c})),n.d(r,"a",(function(){return d})),n.d(r,"n",(function(){return l})),n.d(r,"i",(function(){return f})),n.d(r,"l",(function(){return w})),n.d(r,"q",(function(){return p})),n.d(r,"j",(function(){return h})),n.d(r,"f",(function(){return m})),n.d(r,"g",(function(){return b})),n.d(r,"h",(function(){return g})),n.d(r,"b",(function(){return v})),n.d(r,"c",(function(){return y})),n.d(r,"s",(function(){return P})),n.d(r,"p",(function(){return j})),n.d(r,"k",(function(){return O})),n.d(r,"r",(function(){return C})),n.d(r,"t",(function(){return _}));var a=function(e){var r={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach((function(e,t){var o=r[e];o&&(n[t]=o)})),n.join("")};function s(e){return function(r,n){var t=[];r&&/\S/.test(r)||t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}var i=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function u(e){return function(r,n){var t=[];(r=r&&r.trim())&&!r.match(i)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function c(e){return function(r,n){var t=[];(r=r&&r.trim())&&!r.match(/^[^0-9].*$/)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function d(e){return function(r,n){var t=a(r.trim()),o=[];t&&""!==t&&t.length<2&&o.push(e.ageTooShortString);var s=Math.floor(parseInt(t,10));""===t||/^\d+$/.test(t)&&s>0&&s<300||o.push(e.invalidAgeString);var i={errors:o,warnings:[]};return n&&n(i),i}}function l(e){return function(r,n){var t=(r=r&&r.trim()).replace(/[\(\)\+\-\. ]/g,""),o=[],a=!1!==e.checkLength&&t.length<7;!r||r.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!a||o.push(e.message);var s={errors:o,warnings:[]};return n&&n(s),s}}function f(e){return function(r,n){var t=[];"number"==typeof r||"string"==typeof r&&(r=r&&r.trim(),(r=a(r))&&!r.match(/^\d+$/)&&t.push(e.message));var o={errors:t,warnings:[]};return n&&n(o),o}}function w(e){return function(r,n){var t=[];"number"==typeof r||"string"==typeof r&&(r=r&&r.trim(),(r=a(r))&&!r.match(/^[\d\ -]+$/)&&t.push(e.message));var o={errors:t,warnings:[]};return n&&n(o),o}}function p(e){return function(r,n){var t=[];r&&!r.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function h(e){return function(r,n){var t=[];(e.should_trim||!1)&&(r=r&&r.trim());var o=r.length;e.min&&o<e.min?t.push(e.minErrorString):e.max&&o>e.max&&t.push(e.maxErrorString);var a={errors:t,warnings:[]};return n&&n(a),a}}function m(e){return function(r,n){var t=[];r!==(e&&e.targetValue)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function b(e){return function(r,n){r&&(r=parseFloat(r));var t=[];r<=e.value&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function g(e){return function(r,n){r&&(r=parseFloat(r));var t=[];r<e.value&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function v(e){return function(r,n){var t=[];/^[\040-\176]*$/.test(r)||t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function y(e){return function(r,n){var t=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,o=[];"number"==typeof r&&(r=r.toString()),r&&!r.match(t)&&(r=r&&r.trim(),o.push(e.message));var a={errors:o,warnings:[]};return n&&n(a),a}}function P(e){return function(r,n){r=r&&r.trim();var t=[],o=new Date(r);r&&!o.getTime()&&t.push(e.message);var a={errors:t,warnings:[]};return n&&n(a),a}}function j(e){return function(r,n){var t=[];(r=r&&r.trim())&&!r.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function O(e){return function(r,n){var t=[];e.pattern.test(r)||t.push(e.message);var o={errors:t,warnings:[]};return n&&n(o),o}}function C(e,r){var n,o=e.map((function(e){return e(r).errors}));return(n=[]).concat.apply(n,t(o))}function _(e,r){var n="";return r.some((function(r){var t=r(e);return t.errors.length>0&&(n=t.errors[0],!0)})),n}},d2Eh:function(e,r,n){"use strict";r.a={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},qpbZ:function(e,r,n){"use strict";function t(e,r,n){return e.split(n).map((function(e){if(e.match(n)){var t=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return e}))}n.d(r,"b",(function(){return a})),n.d(r,"c",(function(){return s})),n.d(r,"a",(function(){return u}));var o=/(\{\{\s*\w+\s*\}\})/g;function a(e,r){return t(e,r,o)}function s(e,r){return t(e,r,o).join("")}var i=/(\{\s*\w+\s*\})/g;function u(e,r){return t(e,r,i)}},rbpv:function(e,r,n){"use strict";n.d(r,"a",(function(){return D}));var t=n("q1tI"),o=n("Ye/N"),a=n("TgLd"),s=n("kmwA"),i=n("n6mq"),u=n("nKUr"),c=function(e){var r=e.onDismiss;return Object(u.jsx)(a.b,{accessibilityModalLabel:o.a._("Successfully changed password","Accessible label for success message after password reset","Accessible label for success message after password reset"),onDismiss:r,heading:o.a._("Password changed!","Notice that a user successfully changed their password","Notice that a user successfully changed their password"),size:"md",footer:Object(u.jsx)(i.f,{children:Object(u.jsx)(i.C,{href:s.a.settings.LOGIN_URL,children:Object(u.jsx)(i.g,{color:"red",onClick:r,text:o.a._("Okay","Acknowledgement of successful password change","Acknowledgement of successful password change")})})}),children:Object(u.jsx)(i.f,{padding:4,children:Object(u.jsx)(i.bb,{children:o.a._("Your password has been changed successfully","Notice that a user successfully changed their password","Notice that a user successfully changed their password")})})})},d=n("mBfy"),l=n("sEfC"),f=n.n(l),w=n("eOdZ"),p=n("J8m7"),h=n("pGrQ"),m=n("U4JR"),b=n("c50B"),g=n("vvax");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,r,n,t,o,a,s){try{var i=e[a](s),u=i.value}catch(c){return void n(c)}i.done?r(u):Promise.resolve(u).then(t,o)}function P(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function j(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?P(Object(n),!0).forEach((function(r){k(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function O(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function C(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _(e,r){return(_=Object.setPrototypeOf||function(e,r){return e.__proto__=r,e})(e,r)}function S(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,t=A(e);if(r){var o=A(this).constructor;n=Reflect.construct(t,arguments,o)}else n=t.apply(this,arguments);return x(this,n)}}function x(e,r){return!r||"object"!==v(r)&&"function"!=typeof r?E(e):r}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var D=function(e){!function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&_(e,r)}(P,e);var r,n,t,a,l,v=S(P);function P(){var e;O(this,P);for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return k(E(e=v.call.apply(v,[this].concat(n))),"state",{errors:{newPassword:[],newPasswordConfirm:[]},newPassword:"",newPasswordConfirm:"",showConfirmation:!1,data:null}),k(E(e),"requiredValidator",Object(b.o)({message:o.a._("Required","Validation error when a required field is missing","Validation error when a required field is missing")})),k(E(e),"validators",{newPassword:{required:e.requiredValidator,password:Object(h.a)({blackPassStr:o.a._("Please try using a stronger password","Weak password validation error","Weak password validation error"),samePasswordStr:o.a._("Password and username can’t match","Validation error when username and password match","Validation error when username and password match"),shortPassStr:o.a._("Too short","Validation error when a password is too short","Validation error when a password is too short"),username:e.props.options.username}),containsOnlyAscii:Object(b.b)({message:o.a.commonStrings.asciiPasswordError})},newPasswordConfirm:{required:e.requiredValidator,equalTo:function(e){return Object(b.f)({targetValue:e,message:o.a._("Passwords don‘t match")})}}}),k(E(e),"handlePasswordFieldChange",(function(r,n){e.setState(k({},r,n)),e.validateFields(r,n)})),k(E(e),"handleSubmitSuccess",(function(r){r.resource_response.data.password_changed&&(Object(m.b)(52,{view:7,viewParameter:53,component:141,reset_password_page_version:"react"}),e.setState({showConfirmation:!0}))})),k(E(e),"handleSubmitFailure",(function(r){var n;r.api_error_code===p.t?(n={showConfirmation:!0},Object(m.b)(52,{view:7,viewParameter:53,component:141,reset_password_page_version:"react"})):n={newPassword:"",newPasswordConfirm:"",errors:{newPassword:[r.message_detail||r.message],newPasswordConfirm:[]}},e.setState(j({},n))})),k(E(e),"handleSubmit",(function(r){r.event.preventDefault();var n=e.state,t=n.newPassword,o=n.newPasswordConfirm,a=j(j({},e.props.options),{},{new_password:t,new_password_confirm:o});w.a.create("ResetPasswordFromEmailResource",a).callUpdate({showError:!1}).then(e.handleSubmitSuccess,e.handleSubmitFailure)})),k(E(e),"validateFields",f()((function(r,n){var t={};"newPassword"===r?t={newPassword:e.runValidators(r,n),newPasswordConfirm:e.state.newPasswordConfirm?e.runValidators("newPasswordConfirm",e.state.newPasswordConfirm,n):[]}:t={newPasswordConfirm:e.runValidators("newPasswordConfirm",n,e.state.newPassword)};e.setState({errors:j(j({},e.state.errors),t)})}),300)),k(E(e),"dismissConfirmationModal",(function(){return e.setState({showConfirmation:!1})})),e}return r=P,(n=[{key:"componentDidMount",value:(a=regeneratorRuntime.mark((function e(){var r,n,t,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.isUnauth){e.next=3;break}return this.setState({data:this.props.data}),e.abrupt("return");case 3:if(r=this.props.options,n=r.username,t=r.token,o=r.expiration,d.default.get("username")!==n||!d.default.isLimitedLogin()){e.next=7;break}return e.next=7,d.default.logoutWithOptions(null,"password-reset");case 7:w.a.create("VerifyEmailTokenResource",{username:n,expiration:o,token:t}).callGet().then((function(e){a.setState({data:e.resource_response.data})}));case 8:case"end":return e.stop()}}),e,this)})),l=function(){var e=this,r=arguments;return new Promise((function(n,t){var o=a.apply(e,r);function s(e){y(o,n,t,s,i,"next",e)}function i(e){y(o,n,t,s,i,"throw",e)}s(void 0)}))},function(){return l.apply(this,arguments)})},{key:"runValidators",value:function(e,r,n){var t=this.validators[e];"newPasswordConfirm"===e&&(t=j(j({},t),{equalTo:t.equalTo(n)}));var o=Object.values(t);return Object(b.r)(o,r)}},{key:"render",value:function(){var e=this,r=this.state,n=r.newPassword,t=r.newPasswordConfirm,a=r.errors,d=this.state.data,l=a.newPassword.length+a.newPasswordConfirm.length,f=!(!n||!t||n!==t||l);if(!d)return null;var w=d.is_link_valid;return Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("form",{method:"POST",onSubmit:this.handleSubmit,style:{width:"100%",justifyContent:"space-around",display:"flex"},children:Object(u.jsxs)("div",{style:{width:"58.33333%",display:"block"},children:[Object(u.jsx)(i.v,{align:"center",children:w?o.a._("Pick a new password","Prompt to pick a new password","Prompt to pick a new password"):o.a._("Sorry","unauth.dweb.passwordReset.sorryHeading","Heading when a reset password link is invalid")}),w?Object(u.jsxs)(i.f,{children:[Object(u.jsx)(i.f,{marginBottom:2,marginTop:4,children:Object(u.jsx)(i.z,{htmlFor:"newPassword",children:Object(u.jsx)(i.bb,{weight:"bold",children:o.a._("New password","Field label for entering a new password","Field label for entering a new password")})})}),Object(u.jsx)(i.db,{errorMessage:Array.isArray(a.newPassword[0])?a.newPassword[0].join(""):a.newPassword[0],id:"newPassword",onChange:function(r){var n=r.value;return e.handlePasswordFieldChange("newPassword",n)},size:"lg",type:"password",value:this.state.newPassword}),Object(u.jsx)(i.f,{marginBottom:2,marginTop:4,children:Object(u.jsx)(i.z,{htmlFor:"confirmNewPassword",children:Object(u.jsx)(i.bb,{weight:"bold",children:o.a._("Type it again","Prompt to repeat the desired password","Prompt to repeat the desired password")})})}),Object(u.jsx)(i.db,{errorMessage:Array.isArray(a.newPasswordConfirm[0])?a.newPasswordConfirm[0].join(""):a.newPasswordConfirm[0],id:"confirmNewPassword",onChange:function(r){var n=r.value;return e.handlePasswordFieldChange("newPasswordConfirm",n)},size:"lg",type:"password",value:this.state.newPasswordConfirm})]}):Object(u.jsxs)(i.f,{children:[Object(u.jsx)(i.f,{marginTop:6,children:Object(u.jsx)(i.bb,{align:"center",children:o.a._("The password reset link was invalid / expired (valid for 24 hrs), possibly because it has already been used.","unauth.dweb.passwordReset.linkInvalidtext","Explanation of why a user is unable to reset their password from the current link")})}),Object(u.jsx)(i.f,{marginTop:6,children:Object(u.jsx)(i.bb,{align:"center",children:Object(g.b)(o.a._("Please request a {{anchorTag}}","unauth.dweb.passwordReset.newResetLinkText","Prompt to click for new password reset email"),{anchorTag:Object(u.jsx)("a",{href:s.a.settings.PASSWORD_RESET_URL,children:Object(u.jsx)(i.bb,{color:"darkGray",inline:!0,weight:"bold",children:o.a._("new password reset","unauth.dweb.passwordReset.newResetLinkText.link","Fragment of invalid password reset link message.Prompt to request a new reset password link")})},"invalidLink")})})})]}),w?Object(u.jsx)(i.f,{display:"flex",justifyContent:"end",marginTop:4,children:Object(u.jsx)(i.g,{color:"red",disabled:!f,inline:!0,onClick:this.handleSubmit,size:"md",text:o.a._("Change Password"),type:"submit"})}):null]})}),this.state.showConfirmation&&Object(u.jsx)(c,{onDismiss:this.dismissConfirmationModal})]})}}])&&C(r.prototype,n),t&&C(r,t),P}(t.Component)},vvax:function(e,r,n){"use strict";var t=n("qpbZ");n.d(r,"b",(function(){return t.b})),n.d(r,"a",(function(){return t.a}))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/413-c498e6496468daf214ae.js.map